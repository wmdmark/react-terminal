// Generated by CoffeeScript 1.9.3
var Remarkable, clear, echo, help, md, path, su,
  slice = [].slice;

path = require("path");

Remarkable = require("remarkable");

md = new Remarkable();

help = function(state) {
  var buffer, key, rendered, val;
  buffer = state.buffer;
  for (key in this) {
    val = this[key];
    if (val.help) {
      help = "**" + key + "**: " + val.help;
      rendered = md.render(help).replace("<p>", "").replace("</p>", "");
      buffer.push({
        input: rendered,
        type: "html"
      });
    }
  }
  return {
    buffer: buffer
  };
};

help.help = "You're looking at it!";

clear = function(state) {
  return {
    lines: [],
    cursorPosition: 0,
    input: ""
  };
};

clear.help = "Clears the terminal.";

echo = function() {
  var args, output, state;
  state = arguments[0], args = 2 <= arguments.length ? slice.call(arguments, 1) : [];
  output = args.join(" ");
  state.buffer.push(output);
  return {
    buffer: state.buffer
  };
};

su = function(state, user) {
  return {
    prompt: user + "@~/ Â» "
  };
};

su.help = "Switch users. Example: _su wmdmark_";

module.exports = {
  help: help,
  clear: clear,
  echo: echo,
  su: su
};
