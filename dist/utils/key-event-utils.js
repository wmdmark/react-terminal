// Generated by CoffeeScript 1.9.3
module.exports = {
  reduceKeyDown: function(input, cursorPosition, prompt, history, e) {
    var ref;
    if ((ref = e.keyCode) === 37 || ref === 39 || ref === 8 || ref === 13) {
      e.preventDefault();
    }
    switch (e.keyCode) {
      case 13:
        history.push({
          prompt: prompt,
          input: input
        });
        input = "";
        cursorPosition = 0;
        break;
      case 37:
        if (cursorPosition > 0) {
          cursorPosition = cursorPosition - 1;
        }
        break;
      case 39:
        if (cursorPosition < input.length) {
          cursorPosition = cursorPosition + 1;
        }
        break;
      case 8:
        if (input.length <= 1) {
          input = "";
        } else {
          input = input.substring(0, cursorPosition - 1) + input.substring(cursorPosition, input.length);
          if (cursorPosition >= 1) {
            cursorPosition = cursorPosition - 1;
          } else {
            cursorPosition = 0;
          }
        }
    }
    return [input, cursorPosition, history];
  },
  reduceKeyPress: function(input, cursorPosition, e) {
    var char;
    e.preventDefault();
    char = String.fromCharCode(e.keyCode);
    input = input.substring(0, cursorPosition) + char + input.substring(cursorPosition, input.length);
    cursorPosition++;
    return [input, cursorPosition];
  }
};
